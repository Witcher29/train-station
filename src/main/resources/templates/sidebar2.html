<!-- sidebar.html -->
<div th:fragment="sidebar">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      display: flex;
      position: relative; /* Для абсолютного позиционирования кнопки */
    }
    .sidebar {
      min-width: 100px; /* Ширина при свёрнутом состоянии */
      max-width: 250px; /* Ширина при развернутом состоянии */
      background-color: #f8f9fa;
      padding: 15px; /* Отступы внутри сайдбара */
      height: 100vh; /* Высота сайдбара */
      position: sticky;
      top: 0;
      transition: transform 0.3s ease; /* Плавная анимация ширины */
      overflow: hidden; /* Скрыть переполнение */
    }
    .sidebar.collapsed {
      transform: translateX(-100%); /* Ширина при свёрнутом состоянии */
    }
    .container-fluid {
      flex: 1; /* Занимает оставшееся пространство */
      padding: 20px;
      transition: margin-left 0.3s ease; /* Плавная анимация смещения */
    }
    .container-fluid.expanded {
      margin-left: 200px; /* Отступ для раскрытого сайдбара ДО ОСНОВНОГО СОДЕРЖАНИЯ*/
    }
    .container-fluid.collapsed {
      margin-left: 80px; /* Отступ для свёрнутого сайдбара ДО ОСНОВНОГО СОДЕРЖАНИЯ*/
    }
    .toggle-btn {
      position: absolute; /* Размещаем кнопку для сворачивания */
      left: 0;
      top: 20px; /* Отступ сверху */
      z-index: 100; /* Поверх всех элементов */
    }
  </style>
  <button class="btn btn-primary toggle-btn">Sidebar</button>
  <div class="sidebar">
    <h2><br></h2>
    <ul class="nav flex-column">
      <li class="nav-item">
        <a class="nav-link active" href="#">Dashboard</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Profile</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Messages</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Settings</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Logout</a>
      </li>
    </ul>
  </div>
  <div class="container-fluid">
    <div class="content">
      <h1>Main Content</h1>
      <p>This is the main area of the page where content goes.</p>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      // Установка начального состояния
      $('.container-fluid').addClass('expanded');

      $('.toggle-btn').on('click', function() {
        $('.sidebar').toggleClass('collapsed'); // Переключаем класс у сайдбара
        $('.container-fluid').toggleClass('expanded collapsed'); // Переключаем классы у основного контента
      });
    });
  </script>
</div>
